<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Two Column Layout with Header</title>
		<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
		<script src="https://unpkg.com/htmx.org@2.0.3"></script>
		<script src="https://unpkg.com/lucide@latest"></script>
	</head>
	<body>
		<div class="sos-main">
			<div class="tool">
				<i data-lucide="bot" class="result-icon"></i>
				
				 <img src="{{ url_for('static', filename='logo.png') }}" alt="Logo" height="100">

				<i data-lucide="user" class="result-icon"></i>
			</div>

			<div class="sos-blurb">
				<p>
					Upload a book in EPUB format to determine if the work was likely written by a human or generated by
					AI. Uploaded files are processed in real-time and are never saved to our servers.
				</p>
			</div>

			<div class="interactive">
				<form hx-post="/predict-book"
					  hx-target="#result"
					  hx-indicator="#loading-spinner"
					  hx-on-htmx-before-request="document.getElementById('result').innerHTML = ''"
					  enctype="multipart/form-data">
					<label class="sos-file-upload">
						<input type="file" name="book" required
							onchange="document.getElementById('file-name').innerText = this.files[0].name"/>
						<span id="file-name">Select EPUB file...</span>
					</label>

					<br />

					<input type="submit" class="sos-submit-btn" value="Predict">
				</form>

				<div id="loading-spinner" class="htmx-indicator">
					<div class="spinner"></div>
					<p>Analyzing book text, please wait...</p>
				</div>

				<div id="result"></div>
			</div>
		</div>
	</body>

	<script>
		document.body.addEventListener('htmx:afterSettle', () => {
			lucide.createIcons();
		});

		document.addEventListener('DOMContentLoaded', () => {
			lucide.createIcons();
		});
	</script>
</html>